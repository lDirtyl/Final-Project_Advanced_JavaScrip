{"version":3,"file":"index.js","sources":["../src/js/Pagination.js","../src/js/exercises.js","../src/js/subscribeEmail.js","../src/js/scrollToTop.js","../src/main.js"],"sourcesContent":["export class Pagination {\n  constructor({ container, totalPages, onPageChange }) {\n    this.container = container;\n    this._totalPages = totalPages;\n    this._currentPage = 1;\n    this.onPageChange = onPageChange;\n    this.render();\n  }\n\n  get currentPage() {\n    return this._currentPage;\n  }\n\n  set currentPage(page) {\n    if (page < 1 || page > this._totalPages || page === this._currentPage)\n      return;\n    this._currentPage = page;\n    this.onPageChange(page);\n    this.render();\n  }\n\n  render() {\n    this.container.innerHTML = '';\n    if (this._totalPages < 1) return;\n\n    const createButtonMarkup = ({\n      label,\n      page,\n      isActive = false,\n      isDisabled = false,\n      arrowButton = false,\n    }) => `\n      <button class=\"${isActive ? 'active ' : ''}${\n      arrowButton ? 'arrow-button' : ''\n    }\" data-page=\"${page}\" ${isDisabled ? 'disabled' : ''}>${label}</button>\n    `;\n\n    let paginationHTML = '';\n\n    if (this._totalPages > 3) {\n      paginationHTML += createButtonMarkup({\n        label: '<<',\n        page: 1,\n        isDisabled: this._currentPage === 1,\n        arrowButton: true,\n      });\n      paginationHTML += createButtonMarkup({\n        label: '<',\n        page: this._currentPage - 1,\n        isDisabled: this._currentPage === 1,\n        arrowButton: true,\n      });\n    }\n\n    let startPage, endPage;\n    if (this._totalPages <= 5) {\n      startPage = 1;\n      endPage = this._totalPages;\n    } else if (this._currentPage <= 3) {\n      startPage = 1;\n      endPage = 4;\n    } else if (this._currentPage >= this._totalPages - 2) {\n      startPage = this._totalPages - 3;\n      endPage = this._totalPages;\n    } else {\n      startPage = this._currentPage - 1;\n      endPage = this._currentPage + 1;\n    }\n\n    if (startPage > 1) {\n      paginationHTML += createButtonMarkup({ label: 1, page: 1 });\n      if (startPage > 2) paginationHTML += '<span class=\"ellipsis\">...</span>';\n    }\n\n    for (let i = startPage; i <= endPage; i++) {\n      paginationHTML += createButtonMarkup({\n        label: i,\n        page: i,\n        isActive: i === this._currentPage,\n      });\n    }\n\n    if (endPage < this._totalPages) {\n      if (endPage < this._totalPages - 1)\n        paginationHTML += '<span class=\"ellipsis\">...</span>';\n      paginationHTML += createButtonMarkup({\n        label: this._totalPages,\n        page: this._totalPages,\n      });\n    }\n\n    if (this._totalPages > 3) {\n      paginationHTML += createButtonMarkup({\n        label: '>',\n        page: this._currentPage + 1,\n        isDisabled: this._currentPage === this._totalPages,\n        arrowButton: true,\n      });\n      paginationHTML += createButtonMarkup({\n        label: '>>',\n        page: this._totalPages,\n        isDisabled: this._currentPage === this._totalPages,\n        arrowButton: true,\n      });\n    }\n\n    this.container.insertAdjacentHTML('beforeend', paginationHTML);\n\n    this.container.querySelectorAll('button[data-page]').forEach(button => {\n      const page = parseInt(button.getAttribute('data-page'), 10);\n      button.addEventListener('click', () => (this.currentPage = page));\n    });\n  }\n\n  setTotalPages(totalPages) {\n    if (this._totalPages !== totalPages) {\n      this._totalPages = totalPages;\n      this.render();\n    }\n  }\n}\n","import { fetchCategories, fetchExercises } from './api.js';\nimport { Pagination } from './Pagination.js';\nimport {\n  renderTitle,\n  getCategoriesMarkup,\n  getExercisesMarkup,\n} from './markupUtils.js';\nimport { toggleClearButton, clearInput, scrollToElement } from './utils.js';\n\nexport const initializeExercisesSection = () => {\n  const categoriesContainer = document.querySelector('.categories-list');\n  const filtersTitle = document.querySelector('.filters-title');\n  const filters = document.querySelector('#filters');\n  const paginationContainer = document.querySelector('.pagination');\n  const exercisesContainer = document.querySelector('.exercises-list');\n  const searchForm = document.querySelector('.search-form');\n  const searchInput = document.querySelector('.search-input');\n  const clearButton = document.querySelector('.clear-button');\n\n  let activeFilter = 'Muscles';\n  let categoryPagination;\n  let exercisePagination;\n  let currentCategory = '';\n  let currentFilter = '';\n\n  searchInput.addEventListener('input', () =>\n    toggleClearButton(searchInput, clearButton)\n  );\n  clearButton.addEventListener('click', () =>\n    clearInput(searchInput, clearButton)\n  );\n  searchForm.addEventListener('submit', event => handleFormSubmit(event));\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    const searchTerm = searchInput.value.trim();\n    loadExercises({\n      category: currentCategory,\n      filter: currentFilter,\n      keyword: searchTerm || '',\n      resetPagination: true,\n    });\n  };\n\n  const renderCategories = (categories, scrollToFilters) => {\n    categoriesContainer.innerHTML = '';\n    categoriesContainer.style.display = 'grid';\n    exercisesContainer.style.display = 'none';\n    searchForm.style.display = 'none';\n    renderTitle(filtersTitle, null);\n\n    categoriesContainer.insertAdjacentHTML(\n      'beforeend',\n      categories && categories.length\n        ? getCategoriesMarkup(categories)\n        : '<p>No categories found for the selected filter.</p>'\n    );\n\n    scrollToFilters && scrollToElement(filtersTitle);\n  };\n\n  const renderExercises = (exercises, category) => {\n    exercisesContainer.innerHTML = '';\n    categoriesContainer.style.display = 'none';\n    exercisesContainer.style.display = 'grid';\n    searchForm.style.display = 'flex';\n    renderTitle(filtersTitle, category);\n    scrollToElement(filtersTitle);\n\n    exercisesContainer.insertAdjacentHTML(\n      'beforeend',\n      exercises && exercises.length\n        ? getExercisesMarkup(exercises)\n        : '<p>No exercises found for the selected category and filter.</p>'\n    );\n  };\n\n  const setActiveFilterButton = filterName => {\n    document.querySelectorAll('.filter-button').forEach(button => {\n      button.classList.toggle('active', button.dataset.filter === filterName);\n    });\n  };\n\n  const loadCategories = async ({\n    filter,\n    page = 1,\n    resetPagination = false,\n    scrollToFilters,\n  }) => {\n    activeFilter = filter;\n    setActiveFilterButton(filter);\n\n    const data = await fetchCategories(filter, page);\n    renderCategories(data.results, scrollToFilters);\n\n    if (!categoryPagination || resetPagination) {\n      categoryPagination = new Pagination({\n        container: paginationContainer,\n        totalPages: data.totalPages,\n        onPageChange: page =>\n          loadCategories({ filter: activeFilter, page, scrollToFilters: true }),\n      });\n    } else {\n      categoryPagination.setTotalPages(data.totalPages);\n    }\n  };\n\n  const loadExercises = async ({\n    category,\n    filter,\n    keyword = '',\n    page = 1,\n    resetPagination = false,\n  }) => {\n    currentCategory = category;\n    currentFilter = filter;\n\n    const data = await fetchExercises({\n      bodypart: filter === 'Body parts' ? category : '',\n      muscles: filter === 'Muscles' ? category : '',\n      equipment: filter === 'Equipment' ? category : '',\n      keyword,\n      page,\n      limit: 10,\n    });\n\n    renderExercises(data.results, category);\n\n    if (resetPagination || !exercisePagination) {\n      exercisePagination = new Pagination({\n        container: paginationContainer,\n        totalPages: data.totalPages,\n        onPageChange: newPage =>\n          loadExercises({\n            category,\n            filter,\n            keyword,\n            page: newPage,\n          }),\n      });\n    } else {\n      exercisePagination.setTotalPages(data.totalPages);\n    }\n  };\n\n  categoriesContainer.addEventListener('click', event => {\n    const categoryItem = event.target.closest('.categories-list-item');\n    if (categoryItem) {\n      loadExercises({\n        category: categoryItem.dataset.name,\n        filter: categoryItem.dataset.filter,\n        resetPagination: true,\n      });\n    }\n  });\n\n  filters.addEventListener('click', event => {\n    const filterButton = event.target.closest('.filter-button');\n    if (filterButton) {\n      loadCategories({\n        filter: filterButton.dataset.filter,\n        resetPagination: true,\n      });\n    }\n  });\n\n  loadCategories({ filter: 'Muscles' });\n};\n","import Toastify from 'toastify-js';\nimport 'toastify-js/src/toastify.css';\n\nimport { subscribeEmail } from './api.js';\n\nexport const initializeSubscribeEmail = () => {\n  const subscriptionForm = document.getElementById('subscription-form');\n\n  subscriptionForm.addEventListener('submit', async event => {\n    event.preventDefault();\n    const emailInput = event.target.elements.email;\n    const email = emailInput.value;\n\n    try {\n      const response = await subscribeEmail(email);\n      if (response) {\n        Toastify({\n          text: 'Subscription successful!',\n          duration: 3000,\n          backgroundColor: '#4CAF50',\n          close: true,\n        }).showToast();\n        emailInput.value = '';\n      }\n    } catch (error) {\n      const errorMessage =\n        error.response?.data?.message ||\n        error.message ||\n        'An error occurred. Please try again later.';\n\n      Toastify({\n        text: errorMessage,\n        duration: 3000,\n        backgroundColor: '#FF5F6D',\n        close: true,\n      }).showToast();\n    }\n  });\n};\n","import { debounce } from './utils';\n\nexport const initializeScrollToTopButton = () => {\n  const scrollToTopBtn = document.getElementById('scrollToTopBtn');\n\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  const handleScroll = () => {\n    if (\n      document.body.scrollTop > 100 ||\n      document.documentElement.scrollTop > 100\n    ) {\n      scrollToTopBtn.classList.add('active');\n    } else {\n      scrollToTopBtn.classList.remove('active');\n    }\n  };\n\n  window.addEventListener('scroll', debounce(handleScroll, 200));\n  scrollToTopBtn.addEventListener('click', scrollToTop);\n};\n","import { initializeExercisesSection } from './js/exercises.js';\nimport { displayQuoteOfTheDay } from './js/quote.js';\nimport { initializeExerciseModal } from './js/exerciseModal.js';\nimport { initializeMenu, initializeNavigationLinks } from './js/menu.js';\nimport { initializeSubscribeEmail } from './js/subscribeEmail.js';\nimport { initializeScrollToTopButton } from './js/scrollToTop.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initializeMenu();\n  initializeNavigationLinks();\n  initializeExercisesSection();\n  displayQuoteOfTheDay();\n  initializeExerciseModal();\n  initializeSubscribeEmail();\n  initializeScrollToTopButton();\n});\n"],"names":["Pagination","container","totalPages","onPageChange","page","createButtonMarkup","label","isActive","isDisabled","arrowButton","paginationHTML","startPage","endPage","i","button","initializeExercisesSection","categoriesContainer","filtersTitle","filters","paginationContainer","exercisesContainer","searchForm","searchInput","clearButton","activeFilter","categoryPagination","exercisePagination","currentCategory","currentFilter","toggleClearButton","clearInput","event","handleFormSubmit","searchTerm","loadExercises","renderCategories","categories","scrollToFilters","renderTitle","getCategoriesMarkup","scrollToElement","renderExercises","exercises","category","getExercisesMarkup","setActiveFilterButton","filterName","loadCategories","filter","resetPagination","data","fetchCategories","keyword","fetchExercises","newPage","categoryItem","filterButton","initializeSubscribeEmail","emailInput","email","subscribeEmail","Toastify","error","errorMessage","_b","_a","initializeScrollToTopButton","scrollToTopBtn","scrollToTop","handleScroll","debounce","initializeMenu","initializeNavigationLinks","displayQuoteOfTheDay","initializeExerciseModal"],"mappings":"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"}